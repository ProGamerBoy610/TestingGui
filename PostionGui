-- Pet Simulator X Auto Farm GUI
-- Made by PRO_GAMER_BOY

local player = game.Players.LocalPlayer
local replicatedStorage = game:GetService("ReplicatedStorage")
local coinsFolder = workspace.__THINGS.Coins
local petsFolder = workspace.__THINGS.__INSTANCE_CONTAINER.ActivePets

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "PSXAutoFarmGUI"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 220, 0, 120)
Frame.Position = UDim2.new(0, 50, 0, 100)
Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local title = Instance.new("TextLabel", Frame)
title.Size = UDim2.new(1, 0, 0, 25)
title.Text = "Pet Simulator X Auto Farm"
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
title.Font = Enum.Font.Gotham
title.TextSize = 14

local toggleButton = Instance.new("TextButton", Frame)
toggleButton.Size = UDim2.new(0.9, 0, 0, 35)
toggleButton.Position = UDim2.new(0.05, 0, 0.4, 0)
toggleButton.Text = "Auto Farm: OFF"
toggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Font = Enum.Font.Gotham
toggleButton.TextSize = 16

local credit = Instance.new("TextLabel", Frame)
credit.Size = UDim2.new(1, 0, 0, 20)
credit.Position = UDim2.new(0, 0, 1, -20)
credit.BackgroundTransparency = 1
credit.Text = "Made by PRO_GAMER_BOY"
credit.TextColor3 = Color3.fromRGB(150, 150, 150)
credit.Font = Enum.Font.Gotham
credit.TextSize = 12

-- Auto Farm Logic
local farming = false

local function getMyPets()
    local myPets = {}
    for _, v in pairs(petsFolder:GetChildren()) do
        if v.Name == player.Name then
            for _, pet in pairs(v:GetChildren()) do
                table.insert(myPets, pet.Name)
            end
        end
    end
    return myPets
end

local function autoFarm()
    while farming do
        task.wait(1)
        for _, coin in pairs(coinsFolder:GetChildren()) do
            if not farming then break end

            local petList = getMyPets()
            if coin and coin:IsA("Model") and #petList > 0 then
                pcall(function()
                    replicatedStorage.Network.Invoke:InvokeServer("Join Coin", coin.Name, petList)
                end)
            end
        end
    end
end

-- Button Toggle
toggleButton.MouseButton1Click:Connect(function()
    farming = not farming
    toggleButton.Text = "Auto Farm: " .. (farming and "ON" or "OFF")
    if farming then
        task.spawn(autoFarm)
    end
end)
