-- Modern Hub GUI for Roblox Executor (Updated with Text Labels)
-- Compatible with Fryzer Circle Toggle

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Remove existing GUI if it exists
if PlayerGui:FindFirstChild("ModernHubGUI") then
    PlayerGui:FindFirstChild("ModernHubGUI"):Destroy()
end

-- Configuration
local Config = {
    Colors = {
        Primary = Color3.fromRGB(15, 15, 20),
        Secondary = Color3.fromRGB(25, 25, 35),
        Accent = Color3.fromRGB(88, 101, 242),
        AccentHover = Color3.fromRGB(104, 117, 255),
        Success = Color3.fromRGB(67, 181, 129),
        Text = Color3.fromRGB(255, 255, 255),
        TextSecondary = Color3.fromRGB(180, 180, 190),
        Border = Color3.fromRGB(45, 45, 55),
        Shadow = Color3.fromRGB(0, 0, 0),
        TabActive = Color3.fromRGB(70, 85, 220),
        Warning = Color3.fromRGB(255, 140, 66),
        Error = Color3.fromRGB(237, 66, 69),
        StrokeGreen = Color3.fromRGB(0, 255, 0)
    },
    Animations = {
        Fast = TweenInfo.new(0.15, Enum.EasingStyle.Quad),
        Normal = TweenInfo.new(0.3, Enum.EasingStyle.Quad),
        Slow = TweenInfo.new(0.5, Enum.EasingStyle.Quad),
        Bounce = TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
    }
}

-- Create Library
local Library = {}
Library.Tabs = {}
Library.CurrentTab = nil

-- Create Main ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ModernHubGUI"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.DisplayOrder = 100
ScreenGui.Enabled = true

-- Create Main Frame (Much Smaller)
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Config.Colors.Primary
MainFrame.BorderSizePixel = 0
MainFrame.Size = UDim2.new(0, 450, 0, 300) -- Much smaller size
MainFrame.Position = UDim2.new(0.5, -225, 0.5, -150)
MainFrame.Active = true
MainFrame.Draggable = true

-- Add corner rounding (REMOVED UICorner for cleaner look)
local MainStroke = Instance.new("UIStroke")
MainStroke.Color = Config.Colors.StrokeGreen
MainStroke.Thickness = 2
MainStroke.Parent = MainFrame

-- Header Frame
local HeaderFrame = Instance.new("Frame")
HeaderFrame.Name = "Header"
HeaderFrame.Parent = MainFrame
HeaderFrame.BackgroundColor3 = Config.Colors.Secondary
HeaderFrame.BorderSizePixel = 0
HeaderFrame.Size = UDim2.new(1, 0, 0, 40) -- Smaller header
HeaderFrame.Position = UDim2.new(0, 0, 0, 0)

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 0) -- Removed corner rounding
HeaderCorner.Parent = HeaderFrame

-- Fix header corners (only top corners rounded)
local HeaderFix = Instance.new("Frame")
HeaderFix.Parent = HeaderFrame
HeaderFix.BackgroundColor3 = Config.Colors.Secondary
HeaderFix.BorderSizePixel = 0
HeaderFix.Size = UDim2.new(1, 0, 0, 10)
HeaderFix.Position = UDim2.new(0, 0, 1, -10)

-- Title Label
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Name = "Title"
TitleLabel.Parent = HeaderFrame
TitleLabel.BackgroundTransparency = 1
TitleLabel.Size = UDim2.new(1, -80, 0, 20)
TitleLabel.Position = UDim2.new(0, 10, 0, 2)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.Text = "MODERN HUB"
TitleLabel.TextColor3 = Config.Colors.Text
TitleLabel.TextSize = 14
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Subtitle Label
local SubtitleLabel = Instance.new("TextLabel")
SubtitleLabel.Name = "Subtitle"
SubtitleLabel.Parent = HeaderFrame
SubtitleLabel.BackgroundTransparency = 1
SubtitleLabel.Size = UDim2.new(1, -80, 0, 12)
SubtitleLabel.Position = UDim2.new(0, 10, 0, 22)
SubtitleLabel.Font = Enum.Font.Gotham
SubtitleLabel.Text = "Advanced Script Hub"
SubtitleLabel.TextColor3 = Config.Colors.TextSecondary
SubtitleLabel.TextSize = 10
SubtitleLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Control Buttons Container
local ControlsFrame = Instance.new("Frame")
ControlsFrame.Name = "Controls"
ControlsFrame.Parent = HeaderFrame
ControlsFrame.BackgroundTransparency = 1
ControlsFrame.Size = UDim2.new(0, 60, 1, 0)
ControlsFrame.Position = UDim2.new(1, -65, 0, 0)

-- Minimize Button
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = ControlsFrame
MinimizeButton.BackgroundTransparency = 1
MinimizeButton.Size = UDim2.new(0, 25, 0, 25)
MinimizeButton.Position = UDim2.new(0, 0, 0.5, -12.5)
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Text = "âˆ’"
MinimizeButton.TextColor3 = Config.Colors.Text
MinimizeButton.TextSize = 16

-- Close Button
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Parent = ControlsFrame
CloseButton.BackgroundTransparency = 1
CloseButton.Size = UDim2.new(0, 25, 0, 25)
CloseButton.Position = UDim2.new(0, 30, 0.5, -12.5)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Text = "Ã—"
CloseButton.TextColor3 = Config.Colors.Text
CloseButton.TextSize = 16

-- Content Container
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "Content"
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundTransparency = 1
ContentFrame.Size = UDim2.new(1, 0, 1, -40)
ContentFrame.Position = UDim2.new(0, 0, 0, 40)

-- Left Sidebar for Tabs (Smaller)
local SidebarFrame = Instance.new("Frame")
SidebarFrame.Name = "Sidebar"
SidebarFrame.Parent = ContentFrame
SidebarFrame.BackgroundColor3 = Config.Colors.Secondary
SidebarFrame.BorderSizePixel = 0
SidebarFrame.Size = UDim2.new(0, 120, 1, 0) -- Smaller sidebar
SidebarFrame.Position = UDim2.new(0, 0, 0, 0)

-- Add green stroke to sidebar
local SidebarStroke = Instance.new("UIStroke")
SidebarStroke.Color = Config.Colors.StrokeGreen
SidebarStroke.Thickness = 1
SidebarStroke.Parent = SidebarFrame

-- Sidebar ScrollingFrame
local TabScrollFrame = Instance.new("ScrollingFrame")
TabScrollFrame.Name = "TabScroll"
TabScrollFrame.Parent = SidebarFrame
TabScrollFrame.BackgroundTransparency = 1
TabScrollFrame.Size = UDim2.new(1, -8, 1, -8)
TabScrollFrame.Position = UDim2.new(0, 4, 0, 4)
TabScrollFrame.ScrollBarThickness = 3
TabScrollFrame.ScrollBarImageColor3 = Config.Colors.StrokeGreen
TabScrollFrame.BorderSizePixel = 0
TabScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)

-- Tab Layout
local TabLayout = Instance.new("UIListLayout")
TabLayout.Parent = TabScrollFrame
TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
TabLayout.Padding = UDim.new(0, 3)

-- Right Content Area
local ContentContainer = Instance.new("Frame")
ContentContainer.Name = "ContentContainer"
ContentContainer.Parent = ContentFrame
ContentContainer.BackgroundColor3 = Config.Colors.Primary
ContentContainer.BorderSizePixel = 0
ContentContainer.Size = UDim2.new(1, -120, 1, 0)
ContentContainer.Position = UDim2.new(0, 120, 0, 0)

-- Add green stroke to content area
local ContentStroke = Instance.new("UIStroke")
ContentStroke.Color = Config.Colors.StrokeGreen
ContentStroke.Thickness = 1
ContentStroke.Parent = ContentContainer

-- Content ScrollingFrame
local ContentScrollFrame = Instance.new("ScrollingFrame")
ContentScrollFrame.Name = "ContentScroll"
ContentScrollFrame.Parent = ContentContainer
ContentScrollFrame.BackgroundTransparency = 1
ContentScrollFrame.Size = UDim2.new(1, -16, 1, -16)
ContentScrollFrame.Position = UDim2.new(0, 8, 0, 8)
ContentScrollFrame.ScrollBarThickness = 3
ContentScrollFrame.ScrollBarImageColor3 = Config.Colors.StrokeGreen
ContentScrollFrame.BorderSizePixel = 0
ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)

-- Content Layout
local ContentLayout = Instance.new("UIListLayout")
ContentLayout.Parent = ContentScrollFrame
ContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
ContentLayout.Padding = UDim.new(0, 6)

-- Functions
function Library:CreateTab(name, icon)
    local Tab = {}
    Tab.Name = name
    Tab.Components = {}
    
    -- Create Tab Button
    local TabButton = Instance.new("TextButton")
    TabButton.Name = name
    TabButton.Parent = TabScrollFrame
    TabButton.BackgroundColor3 = Config.Colors.Primary
    TabButton.BorderSizePixel = 0
    TabButton.Size = UDim2.new(1, 0, 0, 30) -- Smaller tab buttons
    TabButton.Font = Enum.Font.Gotham
    TabButton.Text = (icon and icon .. " " or "") .. name
    TabButton.TextColor3 = Config.Colors.TextSecondary
    TabButton.TextSize = 11
    TabButton.TextXAlignment = Enum.TextXAlignment.Center
    
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 6)
    TabCorner.Parent = TabButton
    
    -- Create Tab Content Frame
    local TabContent = Instance.new("Frame")
    TabContent.Name = name .. "Content"
    TabContent.Parent = ContentScrollFrame
    TabContent.BackgroundTransparency = 1
    TabContent.Size = UDim2.new(1, 0, 0, 0)
    TabContent.Visible = false
    TabContent.LayoutOrder = #Library.Tabs + 1
    
    local TabContentLayout = Instance.new("UIListLayout")
    TabContentLayout.Parent = TabContent
    TabContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TabContentLayout.Padding = UDim.new(0, 5)
    
    -- Update tab content size when items are added
    TabContentLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        TabContent.Size = UDim2.new(1, 0, 0, TabContentLayout.AbsoluteContentSize.Y)
        ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y)
    end)
    
    -- Tab Selection Logic
    TabButton.MouseButton1Click:Connect(function()
        Library:SelectTab(Tab)
    end)
    
    -- Hover Effects
    TabButton.MouseEnter:Connect(function()
        if Library.CurrentTab ~= Tab then
            TweenService:Create(TabButton, Config.Animations.Fast, {
                BackgroundColor3 = Config.Colors.Border,
                TextColor3 = Config.Colors.Text
            }):Play()
        end
    end)
    
    TabButton.MouseLeave:Connect(function()
        if Library.CurrentTab ~= Tab then
            TweenService:Create(TabButton, Config.Animations.Fast, {
                BackgroundColor3 = Config.Colors.Primary,
                TextColor3 = Config.Colors.TextSecondary
            }):Play()
        end
    end)
    
    Tab.Button = TabButton
    Tab.Content = TabContent
    Tab.Layout = TabContentLayout
    
    table.insert(Library.Tabs, Tab)
    
    -- Auto-select first tab
    if #Library.Tabs == 1 then
        Library:SelectTab(Tab)
    end
    
    -- Update canvas size
    TabScrollFrame.CanvasSize = UDim2.new(0, 0, 0, TabLayout.AbsoluteContentSize.Y)
    TabLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        TabScrollFrame.CanvasSize = UDim2.new(0, 0, 0, TabLayout.AbsoluteContentSize.Y)
    end)
    
    return Tab
end

function Library:SelectTab(tab)
    -- Deselect current tab
    if Library.CurrentTab then
        TweenService:Create(Library.CurrentTab.Button, Config.Animations.Normal, {
            BackgroundColor3 = Config.Colors.Primary,
            TextColor3 = Config.Colors.TextSecondary
        }):Play()
        Library.CurrentTab.Content.Visible = false
    end
    
    -- Select new tab
    Library.CurrentTab = tab
    TweenService:Create(tab.Button, Config.Animations.Normal, {
        BackgroundColor3 = Config.Colors.TabActive,
        TextColor3 = Config.Colors.Text
    }):Play()
    tab.Content.Visible = true
    
    -- Update content canvas size
    ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y)
end

-- Component Creation Functions
function Library:CreateButton(tab, text, callback)
    local Button = Instance.new("TextButton")
    Button.Name = text
    Button.Parent = tab.Content
    Button.BackgroundColor3 = Config.Colors.Secondary
    Button.BorderSizePixel = 0
    Button.Size = UDim2.new(1, 0, 0, 28) -- Smaller buttons
    Button.Font = Enum.Font.Gotham
    Button.Text = text
    Button.TextColor3 = Config.Colors.Text
    Button.TextSize = 11
    Button.LayoutOrder = #tab.Components + 1
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 4)
    ButtonCorner.Parent = Button
    
    -- Add green stroke
    local ButtonStroke = Instance.new("UIStroke")
    ButtonStroke.Color = Config.Colors.StrokeGreen
    ButtonStroke.Thickness = 1
    ButtonStroke.Parent = Button
    
    -- Status indicator
    local StatusBox = Instance.new("Frame")
    StatusBox.Name = "StatusBox"
    StatusBox.Parent = Button
    StatusBox.BackgroundColor3 = Config.Colors.Border
    StatusBox.BorderSizePixel = 0
    StatusBox.Size = UDim2.new(0, 16, 0, 16)
    StatusBox.Position = UDim2.new(1, -20, 0.5, -8)
    
    local StatusCorner = Instance.new("UICorner")
    StatusCorner.CornerRadius = UDim.new(0, 3)
    StatusCorner.Parent = StatusBox
    
    -- Button functionality
    Button.MouseButton1Click:Connect(function()
        -- Green flash effect
        TweenService:Create(StatusBox, Config.Animations.Fast, {
            BackgroundColor3 = Config.Colors.Success
        }):Play()
        
        -- Call callback if provided
        if callback then
            callback()
        end
        
        -- Return to normal after 1 second
        spawn(function()
            wait(1)
            TweenService:Create(StatusBox, Config.Animations.Normal, {
                BackgroundColor3 = Config.Colors.Border
            }):Play()
        end)
    end)
    
    -- Hover effects
    Button.MouseEnter:Connect(function()
        TweenService:Create(Button, Config.Animations.Fast, {
            BackgroundColor3 = Config.Colors.Border
        }):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        TweenService:Create(Button, Config.Animations.Fast, {
            BackgroundColor3 = Config.Colors.Secondary
        }):Play()
    end)
    
    table.insert(tab.Components, Button)
    
    -- Update tab content size
    tab.Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        tab.Content.Size = UDim2.new(1, 0, 0, tab.Layout.AbsoluteContentSize.Y)
        ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y)
    end)
    
    return Button
end

function Library:CreateToggle(tab, text, default, callback)
    local Toggle = Instance.new("Frame")
    Toggle.Name = text
    Toggle.Parent = tab.Content
    Toggle.BackgroundColor3 = Config.Colors.Secondary
    Toggle.BorderSizePixel = 0
    Toggle.Size = UDim2.new(1, 0, 0, 28) -- Smaller toggles
    Toggle.LayoutOrder = #tab.Components + 1
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 4)
    ToggleCorner.Parent = Toggle
    
    -- Add green stroke
    local ToggleStroke = Instance.new("UIStroke")
    ToggleStroke.Color = Config.Colors.StrokeGreen
    ToggleStroke.Thickness = 1
    ToggleStroke.Parent = Toggle
    
    local ToggleLabel = Instance.new("TextLabel")
    ToggleLabel.Parent = Toggle
    ToggleLabel.BackgroundTransparency = 1
    ToggleLabel.Size = UDim2.new(1, -45, 1, 0)
    ToggleLabel.Position = UDim2.new(0, 8, 0, 0)
    ToggleLabel.Font = Enum.Font.Gotham
    ToggleLabel.Text = text
    ToggleLabel.TextColor3 = Config.Colors.Text
    ToggleLabel.TextSize = 11
    ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Parent = Toggle
    ToggleButton.BackgroundTransparency = 1
    ToggleButton.Size = UDim2.new(1, 0, 1, 0)
    ToggleButton.Text = ""
    
    local StatusBox = Instance.new("Frame")
    StatusBox.Name = "StatusBox"
    StatusBox.Parent = Toggle
    StatusBox.BackgroundColor3 = default and Config.Colors.Success or Config.Colors.Border
    StatusBox.BorderSizePixel = 0
    StatusBox.Size = UDim2.new(0, 16, 0, 16)
    StatusBox.Position = UDim2.new(1, -20, 0.5, -8)
    
    local StatusCorner = Instance.new("UICorner")
    StatusCorner.CornerRadius = UDim.new(0, 3)
    StatusCorner.Parent = StatusBox
    
    local isToggled = default or false
    
    ToggleButton.MouseButton1Click:Connect(function()
        isToggled = not isToggled
        
        TweenService:Create(StatusBox, Config.Animations.Normal, {
            BackgroundColor3 = isToggled and Config.Colors.Success or Config.Colors.Border
        }):Play()
        
        if callback then
            callback(isToggled)
        end
    end)
    
    -- Hover effects
    ToggleButton.MouseEnter:Connect(function()
        TweenService:Create(Toggle, Config.Animations.Fast, {
            BackgroundColor3 = Config.Colors.Border
        }):Play()
    end)
    
    ToggleButton.MouseLeave:Connect(function()
        TweenService:Create(Toggle, Config.Animations.Fast, {
            BackgroundColor3 = Config.Colors.Secondary
        }):Play()
    end)
    
    table.insert(tab.Components, Toggle)
    
    -- Update tab content size
    tab.Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        tab.Content.Size = UDim2.new(1, 0, 0, tab.Layout.AbsoluteContentSize.Y)
        ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y)
    end)
    
    return {Toggle = Toggle, SetValue = function(value) isToggled = value StatusBox.BackgroundColor3 = value and Config.Colors.Success or Config.Colors.Border end}
end

function Library:CreateLabel(tab, text, color)
    local LabelFrame = Instance.new("Frame")
    LabelFrame.Name = text
    LabelFrame.Parent = tab.Content
    LabelFrame.BackgroundColor3 = Config.Colors.Warning
    LabelFrame.BorderSizePixel = 0
    LabelFrame.Size = UDim2.new(1, 0, 0, 25) -- Smaller labels
    LabelFrame.LayoutOrder = #tab.Components + 1
    
    local LabelCorner = Instance.new("UICorner")
    LabelCorner.CornerRadius = UDim.new(0, 4)
    LabelCorner.Parent = LabelFrame
    
    -- Add green stroke
    local LabelStroke = Instance.new("UIStroke")
    LabelStroke.Color = Config.Colors.StrokeGreen
    LabelStroke.Thickness = 1
    LabelStroke.Parent = LabelFrame
    
    local Label = Instance.new("TextLabel")
    Label.Parent = LabelFrame
    Label.BackgroundTransparency = 1
    Label.Size = UDim2.new(1, -16, 1, 0)
    Label.Position = UDim2.new(0, 8, 0, 0)
    Label.Font = Enum.Font.GothamBold
    Label.Text = text
    Label.TextColor3 = color or Config.Colors.Primary
    Label.TextSize = 11
    Label.TextXAlignment = Enum.TextXAlignment.Center
    
    table.insert(tab.Components, LabelFrame)
    
    -- Update tab content size
    tab.Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        tab.Content.Size = UDim2.new(1, 0, 0, tab.Layout.AbsoluteContentSize.Y)
        ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y)
    end)
    
    return {Label = LabelFrame, SetText = function(newText) Label.Text = newText end}
end

-- NEW FUNCTION: Create Text Label (Like button but only shows text)
function Library:CreateTextLabel(tab, text, color)
    local TextLabelFrame = Instance.new("Frame")
    TextLabelFrame.Name = text
    TextLabelFrame.Parent = tab.Content
    TextLabelFrame.BackgroundColor3 = Config.Colors.Secondary
    TextLabelFrame.BorderSizePixel = 0
    TextLabelFrame.Size = UDim2.new(1, 0, 0, 28) -- Same size as buttons
    TextLabelFrame.LayoutOrder = #tab.Components + 1
    
    local TextLabelCorner = Instance.new("UICorner")
    TextLabelCorner.CornerRadius = UDim.new(0, 4)
    TextLabelCorner.Parent = TextLabelFrame
    
    -- Add green stroke
    local TextLabelStroke = Instance.new("UIStroke")
    TextLabelStroke.Color = Config.Colors.StrokeGreen
    TextLabelStroke.Thickness = 1
    TextLabelStroke.Parent = TextLabelFrame
    
    local TextLabel = Instance.new("TextLabel")
    TextLabel.Parent = TextLabelFrame
    TextLabel.BackgroundTransparency = 1
    TextLabel.Size = UDim2.new(1, -16, 1, 0)
    TextLabel.Position = UDim2.new(0, 8, 0, 0)
    TextLabel.Font = Enum.Font.Gotham
    TextLabel.Text = text
    TextLabel.TextColor3 = color or Config.Colors.Text
    TextLabel.TextSize = 11
    TextLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    table.insert(tab.Components, TextLabelFrame)
    
    -- Update tab content size
    tab.Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        tab.Content.Size = UDim2.new(1, 0, 0, tab.Layout.AbsoluteContentSize.Y)
        ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y)
    end)
    
    return {Frame = TextLabelFrame, SetText = function(newText) TextLabel.Text = newText end}
end

-- Control Button Functions
MinimizeButton.MouseButton1Click:Connect(function()
    ScreenGui.Enabled = false
end)

-- Close Confirmation Dialog (FIXED - No background overlay)
local function CreateConfirmDialog()
    local ConfirmGui = Instance.new("ScreenGui")
    ConfirmGui.Name = "ConfirmDialog"
    ConfirmGui.Parent = PlayerGui
    ConfirmGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ConfirmGui.DisplayOrder = 200
    
    -- REMOVED: No overlay/background frame that covers full screen
    
    local ConfirmFrame = Instance.new("Frame")
    ConfirmFrame.Parent = ConfirmGui
    ConfirmFrame.BackgroundColor3 = Config.Colors.Primary
    ConfirmFrame.BorderSizePixel = 0
    ConfirmFrame.Size = UDim2.new(0, 300, 0, 120)
    ConfirmFrame.Position = UDim2.new(0.5, -150, 0.5, -60)
    
    local ConfirmCorner = Instance.new("UICorner")
    ConfirmCorner.CornerRadius = UDim.new(0, 0) -- Removed corner rounding
    ConfirmCorner.Parent = ConfirmFrame
    
    local ConfirmStroke = Instance.new("UIStroke")
    ConfirmStroke.Color = Config.Colors.StrokeGreen
    ConfirmStroke.Thickness = 2
    ConfirmStroke.Parent = ConfirmFrame
    
    local ConfirmTitle = Instance.new("TextLabel")
    ConfirmTitle.Parent = ConfirmFrame
    ConfirmTitle.BackgroundTransparency = 1
    ConfirmTitle.Size = UDim2.new(1, 0, 0, 30)
    ConfirmTitle.Position = UDim2.new(0, 0, 0, 8)
    ConfirmTitle.Font = Enum.Font.GothamBold
    ConfirmTitle.Text = "Confirm Close"
    ConfirmTitle.TextColor3 = Config.Colors.Text
    ConfirmTitle.TextSize = 14
    
    local ConfirmText = Instance.new("TextLabel")
    ConfirmText.Parent = ConfirmFrame
    ConfirmText.BackgroundTransparency = 1
    ConfirmText.Size = UDim2.new(1, -16, 0, 25)
    ConfirmText.Position = UDim2.new(0, 8, 0, 35)
    ConfirmText.Font = Enum.Font.Gotham
    ConfirmText.Text = "Are you sure you want to close the hub?"
    ConfirmText.TextColor3 = Config.Colors.TextSecondary
    ConfirmText.TextSize = 11
    ConfirmText.TextWrapped = true
    
    local ButtonsFrame = Instance.new("Frame")
    ButtonsFrame.Parent = ConfirmFrame
    ButtonsFrame.BackgroundTransparency = 1
    ButtonsFrame.Size = UDim2.new(1, -16, 0, 30)
    ButtonsFrame.Position = UDim2.new(0, 8, 1, -38)
    
    local CancelButton = Instance.new("TextButton")
    CancelButton.Parent = ButtonsFrame
    CancelButton.BackgroundColor3 = Config.Colors.Secondary
    CancelButton.BorderSizePixel = 0
    CancelButton.Size = UDim2.new(0.45, 0, 1, 0)
    CancelButton.Position = UDim2.new(0, 0, 0, 0)
    CancelButton.Font = Enum.Font.Gotham
    CancelButton.Text = "Cancel"
    CancelButton.TextColor3 = Config.Colors.Text
    CancelButton.TextSize = 11
    
    local CancelCorner = Instance.new("UICorner")
    CancelCorner.CornerRadius = UDim.new(0, 0) -- Removed corner rounding
    CancelCorner.Parent = CancelButton
    
    local ConfirmButton = Instance.new("TextButton")
    ConfirmButton.Parent = ButtonsFrame
    ConfirmButton.BackgroundColor3 = Config.Colors.Error
    ConfirmButton.BorderSizePixel = 0
    ConfirmButton.Size = UDim2.new(0.45, 0, 1, 0)
    ConfirmButton.Position = UDim2.new(0.55, 0, 0, 0)
    ConfirmButton.Font = Enum.Font.Gotham
    ConfirmButton.Text = "Close"
    ConfirmButton.TextColor3 = Config.Colors.Text
    ConfirmButton.TextSize = 11
    
    local ConfirmButtonCorner = Instance.new("UICorner")
    ConfirmButtonCorner.CornerRadius = UDim.new(0, 0) -- Removed corner rounding
    ConfirmButtonCorner.Parent = ConfirmButton
    
    -- Animate in
    ConfirmFrame.Size = UDim2.new(0, 0, 0, 0)
    TweenService:Create(ConfirmFrame, Config.Animations.Bounce, {
        Size = UDim2.new(0, 300, 0, 120)
    }):Play()
    
    CancelButton.MouseButton1Click:Connect(function()
        ConfirmGui:Destroy()
    end)
    
    ConfirmButton.MouseButton1Click:Connect(function()
        -- Close both GUIs when confirmed
        ScreenGui:Destroy()
        ConfirmGui:Destroy()
        
        -- Also close the circle toggle GUI
        local fryzerGUI = PlayerGui:FindFirstChild("FryzerToggleGUI")
        if fryzerGUI then
            fryzerGUI:Destroy()
        end
    end)
    
    -- Hover effects
    CancelButton.MouseEnter:Connect(function()
        TweenService:Create(CancelButton, Config.Animations.Fast, {BackgroundColor3 = Config.Colors.Border}):Play()
    end)
    CancelButton.MouseLeave:Connect(function()
        TweenService:Create(CancelButton, Config.Animations.Fast, {BackgroundColor3 = Config.Colors.Secondary}):Play()
    end)
    
    ConfirmButton.MouseEnter:Connect(function()
        TweenService:Create(ConfirmButton, Config.Animations.Fast, {BackgroundColor3 = Color3.fromRGB(220, 50, 50)}):Play()
    end)
    ConfirmButton.MouseLeave:Connect(function()
        TweenService:Create(ConfirmButton, Config.Animations.Fast, {BackgroundColor3 = Config.Colors.Error}):Play()
    end)
end

CloseButton.MouseButton1Click:Connect(function()
    CreateConfirmDialog()
end)

-- Control button hover effects (FIXED - No blue background)
MinimizeButton.MouseEnter:Connect(function()
    TweenService:Create(MinimizeButton, Config.Animations.Fast, {
        TextColor3 = Config.Colors.Accent
    }):Play()
end)

MinimizeButton.MouseLeave:Connect(function()
    TweenService:Create(MinimizeButton, Config.Animations.Fast, {
        TextColor3 = Config.Colors.Text
    }):Play()
end)

CloseButton.MouseEnter:Connect(function()
    TweenService:Create(CloseButton, Config.Animations.Fast, {
        TextColor3 = Config.Colors.Error
    }):Play()
end)

CloseButton.MouseLeave:Connect(function()
    TweenService:Create(CloseButton, Config.Animations.Fast, {
        TextColor3 = Config.Colors.Text
    }):Play()
end)

-- Animate GUI entrance
MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)

TweenService:Create(MainFrame, Config.Animations.Bounce, {
    Size = UDim2.new(0, 450, 0, 300),
    Position = UDim2.new(0.5, -225, 0.5, -150)
}):Play()

-- Example Usage - Create tabs and components immediately
local infoTab = Library:CreateTab("INFO") -- New INFO tab without emoji
local homeTab = Library:CreateTab("HOME")
local specialTab = Library:CreateTab("SPECIAL")
local mainTab = Library:CreateTab("MAIN")
local spawnerTab = Library:CreateTab("SPAWNER")
local destroyTab = Library:CreateTab("DESTROY")
local settingsTab = Library:CreateTab("SETTINGS")

-- Timer variables
local scriptStartTime = tick()
local timerLabel = nil

-- Function to format time
local function FormatTime(seconds)
    local hours = math.floor(seconds / 3600)
    local minutes = math.floor((seconds % 3600) / 60)
    local secs = math.floor(seconds % 60)
    return string.format("%02d:%02d:%02d", hours, minutes, secs)
end

-- INFO Tab Components (First tab)
Library:CreateTextLabel(infoTab, "Welcome to Fryzer Hub", Config.Colors.Accent)
Library:CreateTextLabel(infoTab, "Player: " .. LocalPlayer.Name, Config.Colors.Text)
timerLabel = Library:CreateTextLabel(infoTab, "Time Used: 00:00:00", Config.Colors.Success)

-- Update timer every second
spawn(function()
    while ScreenGui.Parent do
        wait(1)
        local timeUsed = tick() - scriptStartTime
        if timerLabel and timerLabel.SetText then
            timerLabel.SetText("Time Used: " .. FormatTime(timeUsed))
        end
    end
end)

-- HOME Tab Components
Library:CreateLabel(homeTab, "Welcome to Modern Hub!", Config.Colors.Text)
Library:CreateButton(homeTab, "Test Button", function()
    print("Button clicked!")
end)
Library:CreateToggle(homeTab, "Enable Feature", false, function(value)
    print("Toggle:", value)
end)
Library:CreateTextLabel(homeTab, "This is a text label - no click action", Config.Colors.TextSecondary)

-- SPECIAL Tab Components
Library:CreateButton(specialTab, "Special Function", function()
    print("Special function executed!")
end)
Library:CreateToggle(specialTab, "Special Toggle", true, function(value)
    print("Special toggle:", value)
end)
Library:CreateTextLabel(specialTab, "Special Info: Read-only text display", Config.Colors.Accent)

-- MAIN Tab Components
Library:CreateButton(mainTab, "Main Feature 1", function()
    print("Main feature 1 activated!")
end)
Library:CreateButton(mainTab, "Main Feature 2", function()
    print("Main feature 2 activated!")
end)
Library:CreateToggle(mainTab, "Main Toggle", false, function(value)
    print("Main toggle:", value)
end)
Library:CreateTextLabel(mainTab, "Status: All systems operational", Config.Colors.Success)

-- SPAWNER Tab Components
Library:CreateLabel(spawnerTab, "SPAWNER SCRIPT", Config.Colors.Text)
Library:CreateButton(spawnerTab, "Dark Spawner [ Mobile Only ]", function()
    print("Dark Spawner executed!")
end)
Library:CreateToggle(spawnerTab, "ReModified v3.8 || Dark Spawner", true, function(value)
    print("ReModified:", value)
end)
Library:CreateToggle(spawnerTab, "Pet Placer v1.0 [ Not Animated ]", false, function(value)
    print("Pet Placer:", value)
end)
Library:CreateLabel(spawnerTab, "ALLOW GIFT PET [NEW]", Config.Colors.Primary)
Library:CreateToggle(spawnerTab, "Allow Gift Spawned Pets ^.^", false, function(value)
    print("Allow Gift Pets:", value)
end)
Library:CreateTextLabel(spawnerTab, "Note: Mobile optimized spawner tools", Config.Colors.TextSecondary)

-- DESTROY Tab Components
Library:CreateButton(destroyTab, "Destroy Function 1", function()
    print("Destroy function 1!")
end)
Library:CreateButton(destroyTab, "Destroy Function 2", function()
    print("Destroy function 2!")
end)
Library:CreateToggle(destroyTab, "Auto Destroy", false, function(value)
    print("Auto Destroy:", value)
end)
Library:CreateTextLabel(destroyTab, "Warning: Use destroy functions carefully", Config.Colors.Warning)

-- SETTINGS Tab Components
Library:CreateToggle(settingsTab, "Sound Effects", true, function(value)
    print("Sound Effects:", value)
end)
Library:CreateToggle(settingsTab, "Auto Save", false, function(value)
    print("Auto Save:", value)
end)
Library:CreateButton(settingsTab, "Reset Settings", function()
    print("Settings reset!")
end)
Library:CreateTextLabel(settingsTab, "Version: 1.0.0 | Build: 2024.1", Config.Colors.TextSecondary)

print("ðŸŽ‰ Modern Hub GUI loaded successfully!")
print("ðŸ“± Use the circle toggle to show/hide the GUI")

return Library
