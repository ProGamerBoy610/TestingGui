-- MM2 Gun Drop ESP (Working - Billboard + Drawing Box)
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local Camera = Workspace.CurrentCamera

-- Setup Drawing Box
local gunBox = Drawing.new("Square")
gunBox.Thickness = 2
gunBox.Filled = false
gunBox.Color = Color3.fromRGB(0, 255, 255)
gunBox.Visible = false

-- Billboard creation
local function addBillboard(target)
    if target:FindFirstChild("GunESP") then return end

    local gui = Instance.new("BillboardGui", target)
    gui.Name = "GunESP"
    gui.Size = UDim2.new(0, 100, 0, 40)
    gui.AlwaysOnTop = true
    gui.StudsOffset = Vector3.new(0, 2, 0)
    gui.Adornee = target

    local label = Instance.new("TextLabel", gui)
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = "ðŸ”« GUN HERE"
    label.TextColor3 = Color3.fromRGB(0, 255, 255)
    label.TextStrokeTransparency = 0
    label.TextScaled = true
    label.Font = Enum.Font.GothamBold
end

-- Loop to detect and ESP the gun
RunService.RenderStepped:Connect(function()
    local gun = Workspace:FindFirstChild("GunDrop")

    if gun and gun:IsA("Tool") and gun:FindFirstChild("Handle") then
        local handle = gun.Handle
        addBillboard(gun)

        local pos, onScreen = Camera:WorldToViewportPoint(handle.Position)
        if onScreen then
            gunBox.Visible = true
            gunBox.Size = Vector2.new(60, 60)
            gunBox.Position = Vector2.new(pos.X - 30, pos.Y - 30)
        else
            gunBox.Visible = false
        end
    else
        gunBox.Visible = false
    end
end)

print("ðŸ”« Gun Drop ESP is running")
