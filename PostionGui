-- Roblox Script to continuously teleport to MaximGun VehicleSeat (for killing NPCs)
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- Target position
local targetPosition = Vector3.new(-428.75, 28.07, -49040.91)

-- Function to check if VehicleSeat is loaded
local function checkForVehicleSeat()
    local baseplates = workspace:FindFirstChild("Baseplates")
    if not baseplates then return nil end
    
    local finalBasePlate = baseplates:FindFirstChild("FinalBasePlate")
    if not finalBasePlate then return nil end
    
    local outlawbase = finalBasePlate:FindFirstChild("Outlawbase")
    if not outlawbase then return nil end
    
    local turretSpot = outlawbase:FindFirstChild("TurretSpot")
    if not turretSpot then return nil end
    
    local maximGun = turretSpot:FindFirstChild("MaximGun")
    if not maximGun then return nil end
    
    local vehicleSeat = maximGun:FindFirstChild("VehicleSeat")
    return vehicleSeat
end

-- Function to teleport to VehicleSeat and sit
local function teleportAndSit()
    local vehicleSeat = checkForVehicleSeat()
    if vehicleSeat then
        -- Teleport to VehicleSeat and sit
        local seatPosition = vehicleSeat.Position
        humanoidRootPart.CFrame = CFrame.new(seatPosition + Vector3.new(0, 5, 0))
        
        -- Wait a moment then sit
        wait(0.2)
        vehicleSeat:Sit(humanoid)
        
        print("Successfully teleported to and sat in MaximGun VehicleSeat!")
        return true
    end
    return false
end

-- Function to tween to target location
local function tweenToTarget()
    -- Create tween info (quick movement over 3 seconds)
    local tweenInfo = TweenInfo.new(
        3, -- Duration
        Enum.EasingStyle.Linear,
        Enum.EasingDirection.InOut,
        0, -- Repeat count
        false, -- Reverse
        0 -- Delay
    )
    
    -- Create tween
    local targetCFrame = CFrame.new(targetPosition)
    local tween = TweenService:Create(humanoidRootPart, tweenInfo, {CFrame = targetCFrame})
    
    -- Start tween
    tween:Play()
    print("Tweening to target position...")
    
    -- When tween completes, try to sit
    tween.Completed:Connect(function()
        print("Reached target position, attempting to sit...")
        teleportAndSit()
    end)
end

-- Main continuous loop
local function startContinuousLoop()
    -- Initial tween to location
    tweenToTarget()
    
    -- Continuous loop every 5 seconds
    spawn(function()
        while true do
            wait(5) -- Wait 5 seconds between attempts
            
            -- Check if player is already in a seat
            if humanoid.Sit then
                print("Player is already seated, continuing...")
            else
                print("Player not seated, attempting to teleport and sit...")
                -- Try direct teleport first
                if not teleportAndSit() then
                    -- If failed, do a quick tween
                    tweenToTarget()
                end
            end
        end
    end)
end

-- Execute the function
startContinuousLoop()
