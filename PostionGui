-- ✅ PSX Auto Farm Script (No GUI)
-- Sends pets to all active coins automatically using "Join Coin"

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local coinsFolder = workspace:WaitForChild("__THINGS"):WaitForChild("Coins")
local petsFolder = workspace.__THINGS.__INSTANCE_CONTAINER:WaitForChild("ActivePets")

local enabled = true -- Set to false to stop farming

-- Function to get all equipped pet names
local function getEquippedPets()
    local petNames = {}
    local petContainer = petsFolder:FindFirstChild(player.Name)
    if petContainer then
        for _, pet in ipairs(petContainer:GetChildren()) do
            table.insert(petNames, pet.Name)
        end
    end
    return petNames
end

-- Auto Farm loop
spawn(function()
    while enabled do
        local pets = getEquippedPets()
        if #pets == 0 then
            warn("❌ No pets equipped.")
            wait(1)
            continue
        end

        for _, coin in ipairs(coinsFolder:GetChildren()) do
            if not enabled then break end
            if coin:IsA("Model") and coin:FindFirstChild("Coin") then
                local success = pcall(function()
                    ReplicatedStorage.Network.Invoke:InvokeServer("Join Coin", coin.Name, pets)
                end)
                if success then
                    print("✅ Sent pets to coin:", coin.Name)
                else
                    warn("⚠️ Failed to send pets to:", coin.Name)
                end
                wait(0.3) -- delay between coins
            end
        end

        wait(1.5) -- delay between full cycles
    end
end)

print("✅ PSX Auto Farm started. Pets will now auto-farm coins.")
