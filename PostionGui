-- MM2 Fake Death Script for Executors
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local lp = Players.LocalPlayer
local fakeDead = false

local function fakeDeath()
    local char = lp.Character or lp.CharacterAdded:Wait()
    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hum then return end

    fakeDead = true
    hum:ChangeState(Enum.HumanoidStateType.Physics)
    hum.PlatformStand = true

    for _, part in ipairs(char:GetDescendants()) do
        if part:IsA("BasePart") then
            part.Anchored = false
            part.Velocity = Vector3.new(math.random(-5, 5), 15, math.random(-5, 5))
        end
    end

    print("[ðŸ’€] Fake death activated.")
end

local function recover()
    local char = lp.Character or lp.CharacterAdded:Wait()
    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hum then return end

    fakeDead = false
    hum.PlatformStand = false
    hum:ChangeState(Enum.HumanoidStateType.GettingUp)

    print("[âœ…] Recovered from fake death.")
end

-- Detect key presses (F to fake death, movement keys to recover)
UIS.InputBegan:Connect(function(input, gpe)
    if gpe then return end

    if input.KeyCode == Enum.KeyCode.F and not fakeDead then
        fakeDeath()
    elseif fakeDead then
        local moveKeys = {
            Enum.KeyCode.W,
            Enum.KeyCode.A,
            Enum.KeyCode.S,
            Enum.KeyCode.D,
            Enum.KeyCode.Space
        }
        if table.find(moveKeys, input.KeyCode) then
            recover()
        end
    end
end)
