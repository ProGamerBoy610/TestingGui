-- MM2 Auto Coin Collector (Fixed & Improved)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local root = character:WaitForChild("HumanoidRootPart")

-- GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "CoinCollectorGUI"

local btn = Instance.new("TextButton", gui)
btn.Size = UDim2.new(0, 160, 0, 40)
btn.Position = UDim2.new(0, 20, 0, 100)
btn.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
btn.TextColor3 = Color3.new(1, 1, 1)
btn.TextScaled = true
btn.Text = "Auto Coin: OFF"
btn.Font = Enum.Font.GothamBold

-- Toggle
local ENABLED = false
btn.MouseButton1Click:Connect(function()
	ENABLED = not ENABLED
	btn.Text = ENABLED and "Auto Coin: ON" or "Auto Coin: OFF"
	btn.BackgroundColor3 = ENABLED and Color3.fromRGB(0, 255, 100) or Color3.fromRGB(0, 170, 255)
end)

-- Coin Finder
local function findCoins()
	local found = {}
	for _, v in pairs(workspace:GetDescendants()) do
		if v.Name == "TouchTrigger" and v:IsA("Part") and v.Parent and v.Parent.Name == "CoinContainer" then
			table.insert(found, v)
		end
	end
	return found
end

-- Farming Loop
RunService.Heartbeat:Connect(function()
	if not ENABLED then return end
	if not root or not root.Parent then return end

	local coins = findCoins()
	for _, coin in pairs(coins) do
		if not ENABLED then break end
		if coin and coin:IsDescendantOf(workspace) then
			root.CFrame = coin.CFrame + Vector3.new(0, 3, 0)
			wait(0.15)
		end
	end
end)

print("üçØ MM2 Auto Coin Collector Loaded")
