local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

WindUI:SetNotificationLower(true)

-- Add Custom Blue Theme
WindUI:AddTheme({
    Name = "Blue Theme",
    Accent = Color3.fromRGB(37, 99, 235),
    Dialog = Color3.fromRGB(15, 23, 42),
    Outline = Color3.fromRGB(59, 130, 246),
    Text = Color3.fromRGB(248, 250, 252),
    Placeholder = Color3.fromRGB(100, 116, 139),
    Background = Color3.fromRGB(15, 23, 42),
    Button = Color3.fromRGB(30, 58, 138),
    Icon = Color3.fromRGB(147, 197, 253)
})

local Window = WindUI:CreateWindow({
    Title = "Fryzer Hub",
    Icon = "",
    Author = "Join Discord",
    Folder = "AutoBuyHub",
    Size = UDim2.fromOffset(580, 460),
    MinSize = Vector2.new(560, 350),
    MaxSize = Vector2.new(850, 560),
    Transparent = true,
    Theme = "Blue Theme",
    Resizable = true,
    SideBarWidth = 200,
    BackgroundImageTransparency = 0.42,
    HideSearchBar = false,
    ScrollBarEnabled = true,
})

Window:Tag({
    Title = "v1.3.6",
    Color = Color3.fromHex("#30ff6a"),
    Radius = 8,
})

Window:Tag({
    Title = "Fish It",
    Color = Color3.fromHex("#ff0000"),
    Radius = 10,
})

local InfoTab = Window:Tab({
    Title = "Info",
    Icon = "info",
    Locked = false,
})

InfoTab:Select()

-- ==================== PLAYER INFORMATION SECTION ====================
local Sectiontest = InfoTab:Section({
    Title = "Player Information Dashboard",
    Icon = "user-check",
})

InfoTab:Paragraph({
    Title = "Player Information Dashboard",
    Desc = "Complete player details, game information, and community access",
    Color = "Blue",
    Image = "",
    ImageSize = 30,
    Thumbnail = "",
    ThumbnailSize = 80,
    Locked = false,
    Buttons = {}
})

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local Player = Players.LocalPlayer
local PlayerName = Player.DisplayName ~= "" and Player.DisplayName or Player.Name
local AccountAge = Player.AccountAge
local GameName = "Unknown Game"
pcall(function()
    GameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
end)

InfoTab:Paragraph({
    Title = "üë§ " .. PlayerName,
    Desc = string.format(
        "üè∑Ô∏è Username: @%s\nüéÇ Account Age: %d days\nüÜî User ID: %d\nüéÆ Current Game: %s\nüë• Server: %d/%d players\nüìç Region: %s",
        Player.Name, AccountAge, Player.UserId, GameName,
        #Players:GetPlayers(), Players.MaxPlayers,
        game:GetService("LocalizationService").RobloxLocaleId
    ),
    Color = "Blue",
    Image = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. Player.UserId .. "&width=150&height=150&format=png",
    ImageSize = 52,
    Thumbnail = "",
    ThumbnailSize = 80,
    Locked = false,
    Buttons = {}
})

InfoTab:Divider()

-- ==================== DISCORD COMMUNITY SECTION ====================
local DiscordSection = InfoTab:Section({
    Title = "Join Our Discord Community",
    Icon = "users",
})

InfoTab:Paragraph({
    Title = "üéÆ Connect & Engage",
    Desc = "Join thousands of players in our Discord community for updates, support, and exclusive content!",
    Color = "Blue",
    Image = "",
    ImageSize = 30,
    Thumbnail = "",
    ThumbnailSize = 80,
    Locked = false,
    Buttons = {}
})

-- Discord API Configuration
local InviteCode = "UKYHGddQD3"
local DiscordAPI = "https://discord.com/api/v10/invites/" .. InviteCode .. "?with_counts=true&with_expiration=true"

-- Universal HTTP Request Handler
local function HttpRequest(data)
    if syn and syn.request then
        return syn.request(data)
    elseif http and http.request then
        return http.request(data)
    elseif http_request then
        return http_request(data)
    elseif request then
        return request(data)
    else
        error("Your executor does not support HTTP requests.")
    end
end

local DiscordResponse
local DiscordErrorMessage = nil
local DiscordInfoParagraph

-- Fetch Discord Information
xpcall(function()
    local req = HttpRequest({
        Url = DiscordAPI,
        Method = "GET",
        Headers = {
            ["Accept"] = "application/json"
        }
    })

    if req and req.Body then
        DiscordResponse = HttpService:JSONDecode(req.Body)
    else
        error("Invalid response from Discord API.")
    end
end, function(err)
    warn("Error fetching Discord info: " .. tostring(err))
    DiscordErrorMessage = tostring(err)
    DiscordResponse = nil
end)

-- Display Discord Information
if DiscordResponse and DiscordResponse.guild then
    local guildName = DiscordResponse.guild.name or "Unknown Server"
    local memberCount = DiscordResponse.approximate_member_count or 0
    local onlineCount = DiscordResponse.approximate_presence_count or 0
    
    local ParagraphConfig = {
        Title = "üî∑ " .. guildName,
        Desc = 
            'üìä <font color="#3b82f6"><b>Members:</b></font> ' .. tostring(memberCount) ..
            '\nüü¢ <font color="#10b981"><b>Online:</b></font> ' .. tostring(onlineCount) ..
            '\nüìà <font color="#f59e0b"><b>Activity:</b></font> ' .. math.floor((onlineCount / math.max(memberCount, 1)) * 100) .. '% active',
        Color = "Red",
        ImageSize = 52,
        Buttons = {
            {
                Icon = "link",
                Title = "Copy Invite",
                Callback = function()
                    pcall(function()
                        setclipboard("https://discord.gg/" .. InviteCode)
                        WindUI:Notify({
                            Title = "‚úÖ Copied!",
                            Content = "Discord invite copied to clipboard.",
                            Duration = 3,
                            Icon = "copy",
                        })
                    end)
                end
            },
            {
                Icon = "refresh-cw",
                Title = "Update Stats",
                Callback = function()
                    xpcall(function()
                        local upd = HttpRequest({
                            Url = DiscordAPI,
                            Method = "GET",
                            Headers = {
                                ["Accept"] = "application/json"
                            }
                        })
                        if upd and upd.Body then
                            local UpdatedResponse = HttpService:JSONDecode(upd.Body)
                            if UpdatedResponse and UpdatedResponse.guild then
                                local newMembers = UpdatedResponse.approximate_member_count or 0
                                local newOnline = UpdatedResponse.approximate_presence_count or 0
                                local activity = math.floor((newOnline / math.max(newMembers, 1)) * 100)
                                
                                DiscordInfoParagraph:SetDesc(
                                    'üìä <font color="#3b82f6"><b>Members:</b></font> ' .. tostring(newMembers) ..
                                    '\nüü¢ <font color="#10b981"><b>Online:</b></font> ' .. tostring(newOnline) ..
                                    '\nüìà <font color="#f59e0b"><b>Activity:</b></font> ' .. activity .. '% active'
                                )
                                WindUI:Notify({
                                    Title = "üîÑ Updated!",
                                    Content = "Discord stats refreshed successfully.",
                                    Duration = 2,
                                    Icon = "check",
                                })
                            end
                        end
                    end, function(err)
                        warn("Error updating Discord info: " .. tostring(err))
                        WindUI:Notify({
                            Title = "‚ö†Ô∏è Update Failed",
                            Content = "Could not refresh Discord stats.",
                            Duration = 3,
                            Icon = "alert-circle",
                        })
                    end)
                end
            }
        }
    }

    -- Add guild icon if available
    if DiscordResponse.guild.icon then
        ParagraphConfig.Image = "https://cdn.discordapp.com/icons/" .. DiscordResponse.guild.id .. "/" .. DiscordResponse.guild.icon .. ".png?size=256"
    end

    -- Add banner if available
    if DiscordResponse.guild.banner then
        ParagraphConfig.Thumbnail = "https://cdn.discordapp.com/banners/" .. DiscordResponse.guild.id .. "/" .. DiscordResponse.guild.banner .. ".png?size=512"
        ParagraphConfig.ThumbnailSize = 80
    end

    DiscordInfoParagraph = InfoTab:Paragraph(ParagraphConfig)
else
    InfoTab:Paragraph({
        Title = "‚ö†Ô∏è Discord Info Unavailable",
        Desc = DiscordErrorMessage or "Unable to fetch Discord server information. Try again later!",
        Color = "Blue",
        ImageSize = 26,
    })
end

-- Quick Action Button
InfoTab:Button({
    Title = "üìã Copy Discord Link",
    Desc = "Copy invite link to clipboard",
    Locked = false,
    Callback = function()
        setclipboard("https://discord.gg/" .. InviteCode)
        WindUI:Notify({
            Title = "‚úÖ Link Copied!",
            Content = "Discord invite copied to clipboard",
            Duration = 3,
            Icon = "copy",
        })
    end
})

InfoTab:Space()

-- ==================== TAB 2: PLAYER ====================
local PlayerTab = Window:Tab({
    Title = "Player",
    Icon = "user-check",
    Locked = false,
})

local Section3 = PlayerTab:Section({
    Title = "Player Controls",
    Icon = "user-check",
})

PlayerTab:Paragraph({
    Title = "Player Controls",
    Desc = "Use the buttons below to control your player character",
    Color = "Blue",
    Image = "",
    ImageSize = 30,
    Thumbnail = "",
    ThumbnailSize = 80,
    Locked = false,
    Buttons = {}
})

PlayerTab:Divider()

local Section4 = PlayerTab:Section({
    Title = "Movement System",
    Icon = "zap",
    Opened = true,
})

-- Infinite Jump Toggle
local infiniteJumpEnabled = false
local UserInputService = game:GetService("UserInputService")

PlayerTab:Toggle({
    Title = "Infinite Jump",
    Desc = "Press Space to jump infinitely",
    Icon = "arrow-up",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        infiniteJumpEnabled = state
        WindUI:Notify({
            Title = state and "Infinite Jump Enabled! üöÄ" or "Infinite Jump Disabled!",
            Content = state and "Press Space to jump infinitely" or "Jump mechanics restored to normal",
            Duration = 3,
        })
    end
})

UserInputService.JumpRequest:Connect(function()
    if infiniteJumpEnabled and Player.Character and Player.Character:FindFirstChild("Humanoid") then
        local humanoid = Player.Character.Humanoid
        if humanoid:GetState() ~= Enum.HumanoidStateType.Dead then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end)

local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local ActiveSpeedBoost = false
local ActiveJumpBoost = false
local ActiveNoclip = false
local ActiveInstantPrompts = false
local ValueSpeed = 16
local ValueJumpHeight = 7.2
local OldSpeed = 16
local OldJumpHeight = 7.2

local function getCharacter()
    return LocalPlayer.Character
end

local function getHumanoid()
    local character = getCharacter()
    return character and character:FindFirstChildOfClass("Humanoid")
end

local function updateOriginalValues()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        OldSpeed = LocalPlayer.Character.Humanoid.WalkSpeed
        OldJumpHeight = LocalPlayer.Character.Humanoid.JumpHeight or 7.2
    end
end

updateOriginalValues()
LocalPlayer.CharacterAdded:Connect(updateOriginalValues)



PlayerTab:Divider()

-- Speed Controls
PlayerTab:Slider({
    Title = "Walk Speed Setting",
    Step = 1,
    Value = {
        Min = 16,
        Max = 500,
        Default = 16,
    },
    Callback = function(value)
        ValueSpeed = value
        print("üèÉ Walk speed set to: " .. value)
    end
})

PlayerTab:Toggle({
    Title = "Enable Speed Boost",
    Desc = "Boost your walking speed",
    Icon = "zap",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        ActiveSpeedBoost = state
        
        task.spawn(function()
            while ActiveSpeedBoost do
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                    LocalPlayer.Character.Humanoid.WalkSpeed = ValueSpeed
                end
                task.wait(0.1)
            end
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = OldSpeed
            end
        end)
        
        print("üèÉ Speed Boost: " .. (state and "ON" or "OFF"))
    end
})

PlayerTab:Divider()

-- Jump Controls
PlayerTab:Slider({
    Title = "Jump Height Setting",
    Step = 1,
    Value = {
        Min = 7,
        Max = 200,
        Default = 50,
    },
    Callback = function(value)
        ValueJumpHeight = value
        print("ü¶ò Jump height set to: " .. value)
    end
})

PlayerTab:Toggle({
    Title = "Enable Jump Boost",
    Desc = "Increase your jump height",
    Icon = "move-up",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        ActiveJumpBoost = state
        
        task.spawn(function()
            while ActiveJumpBoost do
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                    local humanoid = LocalPlayer.Character.Humanoid
                    humanoid.UseJumpPower = false
                    humanoid.JumpHeight = ValueJumpHeight
                end
                task.wait(0.1)
            end
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                local humanoid = LocalPlayer.Character.Humanoid
                humanoid.JumpHeight = 7.2
            end
        end)
        
        print("ü¶ò Jump Boost: " .. (state and "ON" or "OFF"))
    end
})

PlayerTab:Divider()

PlayerTab:Space()

-- Fly System
local IYMouse = Players.LocalPlayer:GetMouse()
local FLYING = false
local QEfly = true
local iyflyspeed = 1
local vehicleflyspeed = 1
local ActivateFly = false

local function sFLY(vfly)
    repeat task.wait() until Players.LocalPlayer and Players.LocalPlayer.Character and Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart") and Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
    repeat task.wait() until IYMouse
    if flyKeyDown or flyKeyUp then flyKeyDown:Disconnect() flyKeyUp:Disconnect() end

    local T = Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
    local CONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
    local lCONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
    local SPEED = 0

    local function FLY()
        FLYING = true
        local BG = Instance.new('BodyGyro')
        local BV = Instance.new('BodyVelocity')
        BG.P = 9e4
        BG.Parent = T
        BV.Parent = T
        BG.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        BG.CFrame = T.CFrame
        BV.Velocity = Vector3.new(0, 0, 0)
        BV.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        task.spawn(function()
            repeat task.wait()
                if not vfly and Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid') then
                    Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand = true
                end
                if CONTROL.L + CONTROL.R ~= 0 or CONTROL.F + CONTROL.B ~= 0 or CONTROL.Q + CONTROL.E ~= 0 then
                    SPEED = 50
                elseif not (CONTROL.L + CONTROL.R ~= 0 or CONTROL.F + CONTROL.B ~= 0 or CONTROL.Q + CONTROL.E ~= 0) and SPEED ~= 0 then
                    SPEED = 0
                end
                if (CONTROL.L + CONTROL.R) ~= 0 or (CONTROL.F + CONTROL.B) ~= 0 or (CONTROL.Q + CONTROL.E) ~= 0 then
                    BV.Velocity = ((workspace.CurrentCamera.CoordinateFrame.lookVector * (CONTROL.F + CONTROL.B)) + ((workspace.CurrentCamera.CoordinateFrame * CFrame.new(CONTROL.L + CONTROL.R, (CONTROL.F + CONTROL.B + CONTROL.Q + CONTROL.E) * 0.2, 0).p) - workspace.CurrentCamera.CoordinateFrame.p)) * SPEED
                    lCONTROL = {F = CONTROL.F, B = CONTROL.B, L = CONTROL.L, R = CONTROL.R}
                elseif (CONTROL.L + CONTROL.R) == 0 and (CONTROL.F + CONTROL.B) == 0 and (CONTROL.Q + CONTROL.E) == 0 and SPEED ~= 0 then
                    BV.Velocity = ((workspace.CurrentCamera.CoordinateFrame.lookVector * (lCONTROL.F + lCONTROL.B)) + ((workspace.CurrentCamera.CoordinateFrame * CFrame.new(lCONTROL.L + lCONTROL.R, (lCONTROL.F + lCONTROL.B + CONTROL.Q + CONTROL.E) * 0.2, 0).p) - workspace.CurrentCamera.CoordinateFrame.p)) * SPEED
                else
                    BV.Velocity = Vector3.new(0, 0, 0)
                end
                BG.CFrame = workspace.CurrentCamera.CoordinateFrame
            until not FLYING
            CONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
            lCONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
            SPEED = 0
            BG:Destroy()
            BV:Destroy()
            if Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid') then
                Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand = false
            end
        end)
    end
    flyKeyDown = IYMouse.KeyDown:Connect(function(KEY)
        if KEY:lower() == 'w' then
            CONTROL.F = (vfly and vehicleflyspeed or iyflyspeed)
        elseif KEY:lower() == 's' then
            CONTROL.B = - (vfly and vehicleflyspeed or iyflyspeed)
        elseif KEY:lower() == 'a' then
            CONTROL.L = - (vfly and vehicleflyspeed or iyflyspeed)
        elseif KEY:lower() == 'd' then 
            CONTROL.R = (vfly and vehicleflyspeed or iyflyspeed)
        elseif QEfly and KEY:lower() == 'e' then
            CONTROL.Q = (vfly and vehicleflyspeed or iyflyspeed)*2
        elseif QEfly and KEY:lower() == 'q' then
            CONTROL.E = -(vfly and vehicleflyspeed or iyflyspeed)*2
        end
        pcall(function() workspace.CurrentCamera.CameraType = Enum.CameraType.Track end)
    end)
    flyKeyUp = IYMouse.KeyUp:Connect(function(KEY)
        if KEY:lower() == 'w' then
            CONTROL.F = 0
        elseif KEY:lower() == 's' then
            CONTROL.B = 0
        elseif KEY:lower() == 'a' then
            CONTROL.L = 0
        elseif KEY:lower() == 'd' then
            CONTROL.R = 0
        elseif KEY:lower() == 'e' then
            CONTROL.Q = 0
        elseif KEY:lower() == 'q' then
            CONTROL.E = 0
        end
    end)
    FLY()
end

local function NOFLY()
    FLYING = false
    if flyKeyDown or flyKeyUp then flyKeyDown:Disconnect() flyKeyUp:Disconnect() end
    if Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid') then
        Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand = false
    end
    pcall(function() workspace.CurrentCamera.CameraType = Enum.CameraType.Custom end)
end

-- Mobile Fly
local velocityHandlerName = "BodyVelocity"
local gyroHandlerName = "BodyGyro"
local mfly1
local mfly2

local function UnMobileFly()
    pcall(function()
        FLYING = false
        local root = Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
        root:FindFirstChild(velocityHandlerName):Destroy()
        root:FindFirstChild(gyroHandlerName):Destroy()
        Players.LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid").PlatformStand = false
        mfly1:Disconnect()
        mfly2:Disconnect()
    end)
end

local function MobileFly()
    UnMobileFly()
    FLYING = true

    local root = Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
    local camera = workspace.CurrentCamera
    local v3none = Vector3.new()
    local v3zero = Vector3.new(0, 0, 0)
    local v3inf = Vector3.new(9e9, 9e9, 9e9)

    local controlModule = require(Players.LocalPlayer.PlayerScripts:WaitForChild("PlayerModule"):WaitForChild("ControlModule"))
    local bv = Instance.new("BodyVelocity")
    bv.Name = velocityHandlerName
    bv.Parent = root
    bv.MaxForce = v3zero
    bv.Velocity = v3zero

    local bg = Instance.new("BodyGyro")
    bg.Name = gyroHandlerName
    bg.Parent = root
    bg.MaxTorque = v3inf
    bg.P = 1000
    bg.D = 50

    mfly1 = Players.LocalPlayer.CharacterAdded:Connect(function()
        local bv = Instance.new("BodyVelocity")
        bv.Name = velocityHandlerName
        bv.Parent = root
        bv.MaxForce = v3zero
        bv.Velocity = v3zero

        local bg = Instance.new("BodyGyro")
        bg.Name = gyroHandlerName
        bg.Parent = root
        bg.MaxTorque = v3inf
        bg.P = 1000
        bg.D = 50
    end)

    mfly2 = RunService.RenderStepped:Connect(function()
        root = Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
        camera = workspace.CurrentCamera
        if Players.LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid") and root and root:FindFirstChild(velocityHandlerName) and root:FindFirstChild(gyroHandlerName) then
            local humanoid = Players.LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid")
            local VelocityHandler = root:FindFirstChild(velocityHandlerName)
            local GyroHandler = root:FindFirstChild(gyroHandlerName)

            VelocityHandler.MaxForce = v3inf
            GyroHandler.MaxTorque = v3inf
            humanoid.PlatformStand = true
            GyroHandler.CFrame = camera.CoordinateFrame
            VelocityHandler.Velocity = v3none

            local direction = controlModule:GetMoveVector()
            if direction.X > 0 then
                VelocityHandler.Velocity = VelocityHandler.Velocity + camera.CFrame.RightVector * (direction.X * ((iyflyspeed) * 50))
            end
            if direction.X < 0 then
                VelocityHandler.Velocity = VelocityHandler.Velocity + camera.CFrame.RightVector * (direction.X * ((iyflyspeed) * 50))
            end
            if direction.Z > 0 then
                VelocityHandler.Velocity = VelocityHandler.Velocity - camera.CFrame.LookVector * (direction.Z * ((iyflyspeed) * 50))
            end
            if direction.Z < 0 then
                VelocityHandler.Velocity = VelocityHandler.Velocity - camera.CFrame.LookVector * (direction.Z * ((iyflyspeed) * 50))
            end
        end
    end)
end

PlayerTab:Slider({
    Title = "Fly Speed",
    Step = 0.1,
    Value = {
        Min = 0.1,
        Max = 10,
        Default = 1
    },
    Callback = function(val)
        iyflyspeed = val
    end
})

PlayerTab:Toggle({
    Title = "Fly",
    Desc = "Enable flying with WASD controls",
    Icon = "plane",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        ActivateFly = state
        task.spawn(function()
            if not FLYING and ActivateFly then
                if UserInputService.TouchEnabled then
                    MobileFly()
                else
                    NOFLY()
                    task.wait()
                    sFLY()
                end
            elseif FLYING and not ActivateFly then
                if UserInputService.TouchEnabled then
                    UnMobileFly()
                else
                    NOFLY()
                end
            end
        end)
    end
})

PlayerTab:Space()

-- Main Tab
-- ==================== TAB 2: MAIN ====================
local MainTab = Window:Tab({
    Title = "Main",
    Icon = "house",
    Locked = false,
})

-- ====================================================================
--                     AUTO FISH TAB - COMPLETE SCRIPT
-- ====================================================================

-- CRITICAL DEPENDENCY VALIDATION
local success, errorMsg = pcall(function()
    local services = {
        game = game,
        workspace = workspace,
        Players = game:GetService("Players"),
        RunService = game:GetService("RunService"),
        ReplicatedStorage = game:GetService("ReplicatedStorage"),
        HttpService = game:GetService("HttpService")
    }
    
    for serviceName, service in pairs(services) do
        if not service then
            error("Critical service missing: " .. serviceName)
        end
    end
    
    local LocalPlayer = game:GetService("Players").LocalPlayer
    if not LocalPlayer then
        error("LocalPlayer not available")
    end
    
    return true
end)

if not success then
    error("‚ùå [Auto Fish] Critical dependency check failed: " .. tostring(errorMsg))
    return
end

-- CORE SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local HttpService = game:GetService("HttpService")
local VirtualUser = game:GetService("VirtualUser")
local LocalPlayer = Players.LocalPlayer

-- CONFIGURATION
local Config = {
    AutoFish = false,
    AutoSell = false,
    AutoCatch = false,
    BlatantMode = false,
    FishDelay = 0.9,
    CatchDelay = 0.2,
    SellDelay = 30
}

-- NETWORK EVENTS
local function getNetworkEvents()
    local net = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net
    return {
        fishing = net:WaitForChild("RE/FishingCompleted"),
        sell = net:WaitForChild("RF/SellAllItems"),
        charge = net:WaitForChild("RF/ChargeFishingRod"),
        minigame = net:WaitForChild("RF/RequestFishingMinigameStarted"),
        cancel = net:WaitForChild("RF/CancelFishingInputs"),
        equip = net:WaitForChild("RE/EquipToolFromHotbar"),
        unequip = net:WaitForChild("RE/UnequipToolFromHotbar")
    }
end

local Events = getNetworkEvents()

-- ANTI-AFK
LocalPlayer.Idled:Connect(function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new())
end)

print("[Anti-AFK] Protection enabled")

-- FISHING LOGIC
local isFishing = false
local fishingActive = false

local function castRod()
    pcall(function()
        Events.equip:FireServer(1)
        task.wait(0.05)
        Events.charge:InvokeServer(1755848498.4834)
        task.wait(0.02)
        Events.minigame:InvokeServer(1.2854545116425, 1)
        print("[Fishing] üé£ Cast")
    end)
end

local function reelIn()
    pcall(function()
        Events.fishing:FireServer()
        print("[Fishing] ‚úÖ Reel")
    end)
end

-- BLATANT MODE
local function blatantFishingLoop()
    while fishingActive and Config.BlatantMode do
        if not isFishing then
            isFishing = true
            
            pcall(function()
                Events.equip:FireServer(1)
                task.wait(0.01)
                
                task.spawn(function()
                    Events.charge:InvokeServer(1755848498.4834)
                    task.wait(0.01)
                    Events.minigame:InvokeServer(1.2854545116425, 1)
                end)
                
                task.wait(0.05)
                
                task.spawn(function()
                    Events.charge:InvokeServer(1755848498.4834)
                    task.wait(0.01)
                    Events.minigame:InvokeServer(1.2854545116425, 1)
                end)
            end)
            
            task.wait(Config.FishDelay)
            
            for i = 1, 5 do
                pcall(function() 
                    Events.fishing:FireServer() 
                end)
                task.wait(0.01)
            end
            
            task.wait(Config.CatchDelay * 0.5)
            
            isFishing = false
            print("[Blatant] ‚ö° Fast cycle")
        else
            task.wait(0.01)
        end
    end
end

-- NORMAL MODE
local function normalFishingLoop()
    while fishingActive and not Config.BlatantMode do
        if not isFishing then
            isFishing = true
            
            castRod()
            task.wait(Config.FishDelay)
            reelIn()
            task.wait(Config.CatchDelay)
            
            isFishing = false
        else
            task.wait(0.1)
        end
    end
end

-- MAIN FISHING CONTROLLER
local function fishingLoop()
    while fishingActive do
        if Config.BlatantMode then
            blatantFishingLoop()
        else
            normalFishingLoop()
        end
        task.wait(0.1)
    end
end

-- AUTO CATCH
task.spawn(function()
    while true do
        if Config.AutoCatch and not isFishing then
            pcall(function() 
                Events.fishing:FireServer() 
            end)
        end
        task.wait(Config.CatchDelay)
    end
end)

-- AUTO SELL
local function simpleSell()
    print("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó")
    print("[Auto Sell] üí∞ Selling all non-favorited items...")
    
    local sellSuccess = pcall(function()
        return Events.sell:InvokeServer()
    end)
    
    if sellSuccess then
        print("[Auto Sell] ‚úÖ SOLD! (Favorited fish kept safe)")
        print("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù")
    else
        warn("[Auto Sell] ‚ùå Sell failed")
        print("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù")
    end
end

task.spawn(function()
    while true do
        task.wait(Config.SellDelay)
        if Config.AutoSell then
            simpleSell()
        end
    end
end)

-- ====================================================================
--                     WIND UI TOGGLES & SLIDERS
-- ====================================================================

-- Section: Auto Fishing
local Section1 = MainTab:Section({
    Title = "Auto Fishing",
    Icon = "fish",
})

-- BLATANT MODE TOGGLE
local BlatantToggle = MainTab:Toggle({
    Title = "‚ö° BLATANT MODE",
    Desc = "3x Faster fishing (High risk)",
    Icon = "zap",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        Config.BlatantMode = state
        print("[Blatant Mode] " .. (state and "‚ö° ENABLED - SUPER FAST!" or "üî¥ Disabled - Normal speed"))
    end
})

-- AUTO FISH TOGGLE
local AutoFishToggle = MainTab:Toggle({
    Title = "ü§ñ Auto Fish",
    Desc = "Automatically cast and reel",
    Icon = "fish",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        Config.AutoFish = state
        fishingActive = state
        
        if state then
            print("[Auto Fish] üü¢ Started " .. (Config.BlatantMode and "(BLATANT MODE)" or "(Normal)"))
            task.spawn(fishingLoop)
        else
            print("[Auto Fish] üî¥ Stopped")
            pcall(function() Events.unequip:FireServer() end)
        end
    end
})

-- AUTO CATCH TOGGLE
local AutoCatchToggle = MainTab:Toggle({
    Title = "üéØ Auto Catch",
    Desc = "Extra spam for faster catching",
    Icon = "target",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        Config.AutoCatch = state
        print("[Auto Catch] " .. (state and "üü¢ Enabled" or "üî¥ Disabled"))
    end
})

-- FISH DELAY SLIDER
local FishDelaySlider = MainTab:Slider({
    Title = "Fish Delay",
    Desc = "Time to wait before reeling (seconds)",
    Step = 0.1,
    Value = {
        Min = 0.1,
        Max = 5.0,
        Default = 0.9,
    },
    Callback = function(value)
        Config.FishDelay = value
        print("[Config] ‚úÖ Fish delay set to " .. value .. "s")
    end
})

-- CATCH DELAY SLIDER
local CatchDelaySlider = MainTab:Slider({
    Title = "Catch Delay",
    Desc = "Cooldown between catches (seconds)",
    Step = 0.1,
    Value = {
        Min = 0.1,
        Max = 2.0,
        Default = 0.2,
    },
    Callback = function(value)
        Config.CatchDelay = value
        print("[Config] ‚úÖ Catch delay set to " .. value .. "s")
    end
})

-- Section: Auto Sell
local Section2 = MainTab:Section({
    Title = "Auto Sell",
    Icon = "dollar-sign",
})

-- AUTO SELL TOGGLE
local AutoSellToggle = MainTab:Toggle({
    Title = "üí∞ Auto Sell",
    Desc = "Keeps favorited items safe",
    Icon = "dollar-sign",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        Config.AutoSell = state
        print("[Auto Sell] " .. (state and "üü¢ Enabled" or "üî¥ Disabled"))
    end
})

-- SELL DELAY SLIDER
local SellDelaySlider = MainTab:Slider({
    Title = "Sell Delay",
    Desc = "Time between auto sells (seconds)",
    Step = 5,
    Value = {
        Min = 10,
        Max = 300,
        Default = 30,
    },
    Callback = function(value)
        Config.SellDelay = value
        print("[Config] ‚úÖ Sell delay set to " .. value .. "s")
    end
})

-- SELL NOW BUTTON
local SellButton = MainTab:Button({
    Title = "üí∞ Sell All Now",
    Desc = "Instantly sell all non-favorited items",
    Icon = "shopping-cart",
    Callback = function()
        simpleSell()
    end
})

print("[Auto Fish] ‚úÖ Script loaded successfully!")

-- ====================================================================
--                     AUTO FAVORITE TAB - COMPLETE SCRIPT
-- ====================================================================

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

-- MODULES FOR AUTO FAVORITE
local ItemUtility = require(ReplicatedStorage.Shared.ItemUtility)
local Replion = require(ReplicatedStorage.Packages.Replion)
local PlayerData = Replion.Client:WaitReplion("Data")

-- NETWORK EVENTS
local function getNetworkEvents()
    local net = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net
    return {
        favorite = net:WaitForChild("RE/FavoriteItem")
    }
end

local Events = getNetworkEvents()

-- CONFIGURATION
local Config = {
    AutoFavorite = false,
    FavoriteRarity = "Mythic"
}

-- RARITY SYSTEM
local RarityTiers = {
    Common = 1,
    Uncommon = 2,
    Rare = 3,
    Epic = 4,
    Legendary = 5,
    Mythic = 6,
    Secret = 7
}

local function getRarityValue(rarity)
    return RarityTiers[rarity] or 0
end

local function getFishRarity(itemData)
    if not itemData or not itemData.Data then return "Common" end
    return itemData.Data.Rarity or "Common"
end

-- FAVORITED ITEMS TRACKER
local favoritedItems = {}

local function isItemFavorited(uuid)
    local success, result = pcall(function()
        local items = PlayerData:GetExpect("Inventory").Items
        for _, item in ipairs(items) do
            if item.UUID == uuid then
                return item.Favorited == true
            end
        end
        return false
    end)
    return success and result or false
end

-- AUTO FAVORITE FUNCTION
local function autoFavoriteByRarity()
    if not Config.AutoFavorite then return end
    
    local targetRarity = Config.FavoriteRarity
    local targetValue = getRarityValue(targetRarity)
    
    -- Ensure minimum of Mythic (6)
    if targetValue < 6 then
        targetValue = 6
    end
    
    local favorited = 0
    local skipped = 0
    
    local success = pcall(function()
        local items = PlayerData:GetExpect("Inventory").Items
        
        if not items or #items == 0 then return end
        
        for i, item in ipairs(items) do
            local data = ItemUtility:GetItemData(item.Id)
            if data and data.Data then
                local itemName = data.Data.Name or "Unknown"
                local rarity = getFishRarity(data)
                local rarityValue = getRarityValue(rarity)
                
                -- Only favorite Mythic (6) or Secret (7)
                if rarityValue >= targetValue and rarityValue >= 6 then
                    if not isItemFavorited(item.UUID) and not favoritedItems[item.UUID] then
                        Events.favorite:FireServer(item.UUID)
                        favoritedItems[item.UUID] = true
                        favorited = favorited + 1
                        print("[Auto Favorite] ‚≠ê #" .. favorited .. " - " .. itemName .. " (" .. rarity .. ")")
                        task.wait(0.3)
                    else
                        skipped = skipped + 1
                    end
                end
            end
        end
    end)
    
    if favorited > 0 then
        print("[Auto Favorite] ‚úÖ Complete! Favorited: " .. favorited)
    else
        print("[Auto Favorite] ‚ÑπÔ∏è No new items to favorite")
    end
end

-- AUTO FAVORITE LOOP
task.spawn(function()
    while true do
        task.wait(10)
        if Config.AutoFavorite then
            autoFavoriteByRarity()
        end
    end
end)

-- ====================================================================
--                     WIND UI COMPONENTS
-- ====================================================================

-- Section: Auto Favorite Settings
local Section1 = MainTab:Section({
    Title = "Auto Favorite Settings",
    Icon = "star",
})

-- AUTO FAVORITE TOGGLE
local AutoFavoriteToggle = MainTab:Toggle({
    Title = "‚≠ê Auto Favorite Fish",
    Desc = "Automatically favorite rare fish",
    Icon = "star",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        Config.AutoFavorite = state
        print("[Auto Favorite] " .. (state and "üü¢ Enabled" or "üî¥ Disabled"))
    end
})

-- FAVORITE RARITY DROPDOWN
local Favoritedropdown = MainTab:Dropdown({
    Title = "Favorite Rarity",
    Desc = "Select minimum rarity to favorite",
    Values = { "Mythic", "Secret" },
    Value = { "Mythic" },
    Multi = true,
    AllowNone = false,
    Callback = function(option)
        local selectedRarity = type(option) == "table" and option[1] or option
        Config.FavoriteRarity = selectedRarity
        print("[Config] Favorite rarity set to: " .. selectedRarity .. "+")
    end
})

-- Section: Manual Actions
local Section2 = MainTab:Section({
    Title = "Manual Actions",
    Icon = "hand",
})

-- FAVORITE NOW BUTTON
local FavoriteNowButton = MainTab:Button({
    Title = "‚≠ê Favorite All Now",
    Desc = "Instantly favorite all Mythic/Secret fish",
    Icon = "zap",
    Callback = function()
        print("[Auto Favorite] üîÑ Starting manual favorite...")
        autoFavoriteByRarity()
    end
})

-- Section: Information
local Section3 = MainTab:Section({
    Title = "Information",
    Icon = "info",
})

local InfoParagraph = MainTab:Paragraph({
    Title = "How It Works",
    Desc = "‚Ä¢ Auto Favorite runs every 10 seconds when enabled\n‚Ä¢ Only favorites Mythic and Secret rarity fish\n‚Ä¢ Skips already favorited items\n‚Ä¢ Protects your rare catches from accidental selling"
})

print("[Auto Favorite] ‚úÖ Script loaded successfully!")

-- Teleport tab
-- ==================== TAB 3: TELEPORT ====================
local TpTab = Window:Tab({
    Title = "Teleport",
    Icon = "map-pin",
    Locked = false,
})

-- ====================================================================
--                     TELEPORT TAB - COMPLETE SCRIPT
-- ====================================================================

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- TELEPORT LOCATIONS (COMPLETE LIST)
local LOCATIONS = {
    -- Main Locations
    ["Spawn"] = CFrame.new(45.2788086, 252.562927, 2987.10913, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    ["Sisyphus Statue"] = CFrame.new(-3728.21606, -135.074417, -1012.12744, -0.977224171, 7.74980258e-09, -0.212209702, 1.566994e-08, 1, -3.5640408e-08, 0.212209702, -3.81539813e-08, -0.977224171),
    ["Coral Reefs"] = CFrame.new(-3114.78198, 1.32066584, 2237.52295, -0.304758579, 1.6556676e-08, -0.952429652, -8.50574935e-08, 1, 4.46003305e-08, 0.952429652, 9.46036067e-08, -0.304758579),
    ["Esoteric Depths"] = CFrame.new(3248.37109, -1301.53027, 1403.82727, -0.920208454, 7.76270355e-08, 0.391428679, 4.56261056e-08, 1, -9.10549289e-08, -0.391428679, -6.5930152e-08, -0.920208454),
    ["Crater Island"] = CFrame.new(1016.49072, 20.0919304, 5069.27295, 0.838976264, 3.30379857e-09, -0.544168055, 2.63538391e-09, 1, 1.01344115e-08, 0.544168055, -9.93662219e-09, 0.838976264),
    ["Lost Isle"] = CFrame.new(-3618.15698, 240.836655, -1317.45801, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    ["Tropical Grove"] = CFrame.new(-2095.34106, 197.199997, 3718.08008),
    ["Mount Hallow"] = CFrame.new(2136.62305, 78.9163895, 3272.50439, -0.977613986, -1.77645827e-08, 0.210406482, -2.42338203e-08, 1, -2.81680421e-08, -0.210406482, -3.26364251e-08, -0.977613986),
    ["Treasure Room"] = CFrame.new(-3606.34985, -266.57373, -1580.97339, 0.998743415, 1.12141152e-13, -0.0501160324, -1.56847693e-13, 1, -8.88127842e-13, 0.0501160324, 8.94872392e-13, 0.998743415),
    ["Kohana"] = CFrame.new(-663.904236, 3.04580712, 718.796875, -0.100799225, -2.14183729e-08, -0.994906783, -1.12300391e-08, 1, -2.03902459e-08, 0.994906783, 9.11752096e-09, -0.100799225),
    ["Underground Cellar"] = CFrame.new(2109.52148, -94.1875076, -708.609131, 0.418592364, 3.34794485e-08, -0.908174217, -5.24141512e-08, 1, 1.27060247e-08, 0.908174217, 4.22825366e-08, 0.418592364),
    ["Ancient Jungle"] = CFrame.new(1831.71362, 6.62499952, -299.279175, 0.213522509, 1.25553285e-07, -0.976938128, -4.32026184e-08, 1, 1.19074642e-07, 0.976938128, 1.67811702e-08, 0.213522509),
    ["Sacred Temple"] = CFrame.new(1466.92151, -21.8750591, -622.835693, -0.764787138, 8.14444334e-09, 0.644283056, 2.31097452e-08, 1, 1.4791004e-08, -0.644283056, 2.6201187e-08, -0.764787138),
    
    -- Machines
    ["Luck Machine"] = CFrame.new(13.3431435, 22.5339203, 2846.63379),
    ["Spin Wheel"] = CFrame.new(-151.139404, 22.0784302, 2824.63379),
    ["Weather Machine"] = CFrame.new(-1488.85706, 22.25, 1875.94202),
    
    -- NPCs
    ["Alex"] = CFrame.new(48.0930824, 17.4960938, 2877.13379),
    ["Alien Merchant"] = CFrame.new(-132.127686, 2.71751165, 2757.46191),
    ["Aura Kid"] = CFrame.new(71.0932083, 18.5335236, 2830.35889),
    ["Billy Bob"] = CFrame.new(79.8430176, 18.659088, 2876.63379),
    ["Boat Expert"] = CFrame.new(33.3180008, 9.8, 2783.00903),
    ["Jim"] = CFrame.new(84.895195, 9.824893, 2797.39233),
    ["Joe"] = CFrame.new(144.043442, 20.4837284, 2862.38379),
    ["Ron"] = CFrame.new(-51.7067909, 17.3335247, 2859.55884),
    ["Scientist"] = CFrame.new(-8.03684139, 14.6696262, 2885.70532),
    ["Scott"] = CFrame.new(-17.1273079, 9.53158569, 2703.35889),
    ["Seth"] = CFrame.new(111.59314, 17.4086304, 2877.13379),
    ["Silly Fisherman"] = CFrame.new(101.947266, 9.53157139, 2690.21948),
    ["Temple Guardian"] = CFrame.new(1491.47729, 127.625061, -593.159485),
    ["Tour Guide"] = CFrame.new(1238.88989, 7.82286787, -238.185654)
}

-- SAFE TELEPORT FUNCTION (PREVENTS GETTING STUCK)
local function teleportTo(locationName)
    local cframe = LOCATIONS[locationName]
    if not cframe then
        warn("‚ùå [Teleport] Location not found: " .. tostring(locationName))
        return false
    end
    
    local success = pcall(function()
        local character = LocalPlayer.Character
        if not character then return end
        
        local rootPart = character:FindFirstChild("HumanoidRootPart")
        local humanoid = character:FindFirstChild("Humanoid")
        if not rootPart or not humanoid then return end
        
        -- Disable collision temporarily to prevent getting stuck
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
        
        -- Teleport slightly above the target position to prevent clipping
        local safeCFrame = cframe + Vector3.new(0, 3, 0)
        rootPart.CFrame = safeCFrame
        
        -- Wait a moment for physics to settle
        task.wait(0.1)
        
        -- Re-enable collision
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                part.CanCollide = true
            end
        end
        
        -- Set humanoid state to ensure proper landing
        humanoid:ChangeState(Enum.HumanoidStateType.Freefall)
        
        print("‚úÖ [Teleport] Moved to " .. locationName)
    end)
    
    if not success then
        warn("‚ùå [Teleport] Failed to teleport to " .. locationName)
    end
    
    return success
end

-- ====================================================================
--                     WIND UI BUTTONS
-- ====================================================================

-- Section: Main Locations
local Section1 = Tab2:Section({
    Title = "Main Locations",
    Icon = "map-pin",
})

local SpawnButton = Tab2:Button({
    Title = "Spawn",
    Desc = "Starting area",
    Icon = "home",
    Callback = function()
        teleportTo("Spawn")
    end
})

local SisyphusButton = Tab2:Button({
    Title = "Sisyphus Statue",
    Desc = "Popular fishing spot",
    Icon = "map-pin",
    Callback = function()
        teleportTo("Sisyphus Statue")
    end
})

local CoralButton = Tab2:Button({
    Title = "Coral Reefs",
    Desc = "Underwater fishing area",
    Icon = "anchor",
    Callback = function()
        teleportTo("Coral Reefs")
    end
})

local DepthsButton = Tab2:Button({
    Title = "Esoteric Depths",
    Desc = "Deep water location",
    Icon = "chevrons-down",
    Callback = function()
        teleportTo("Esoteric Depths")
    end
})

local CraterButton = Tab2:Button({
    Title = "Crater Island",
    Desc = "Island location",
    Icon = "island",
    Callback = function()
        teleportTo("Crater Island")
    end
})

local LostIsleButton = Tab2:Button({
    Title = "Lost Isle",
    Desc = "Hidden island",
    Icon = "compass",
    Callback = function()
        teleportTo("Lost Isle")
    end
})

local TropicalButton = Tab2:Button({
    Title = "Tropical Grove",
    Desc = "Tropical paradise",
    Icon = "palmtree",
    Callback = function()
        teleportTo("Tropical Grove")
    end
})

local MountButton = Tab2:Button({
    Title = "Mount Hallow",
    Desc = "Mountain peak",
    Icon = "mountain",
    Callback = function()
        teleportTo("Mount Hallow")
    end
})

local TreasureButton = Tab2:Button({
    Title = "Treasure Room",
    Desc = "Secret treasure location",
    Icon = "gem",
    Callback = function()
        teleportTo("Treasure Room")
    end
})

local KohanaButton = Tab2:Button({
    Title = "Kohana",
    Desc = "Village area",
    Icon = "tent",
    Callback = function()
        teleportTo("Kohana")
    end
})

local CellarButton = Tab2:Button({
    Title = "Underground Cellar",
    Desc = "Secret underground area",
    Icon = "arrow-down-circle",
    Callback = function()
        teleportTo("Underground Cellar")
    end
})

local JungleButton = Tab2:Button({
    Title = "Ancient Jungle",
    Desc = "Dense jungle area",
    Icon = "trees",
    Callback = function()
        teleportTo("Ancient Jungle")
    end
})

local TempleButton = Tab2:Button({
    Title = "Sacred Temple",
    Desc = "Ancient temple ruins",
    Icon = "church",
    Callback = function()
        teleportTo("Sacred Temple")
    end
})

-- Section: Machines
local Section2 = Tab2:Section({
    Title = "Machines",
    Icon = "settings",
})

local LuckMachineButton = Tab2:Button({
    Title = "Luck Machine",
    Desc = "Increase your luck",
    Icon = "clover",
    Callback = function()
        teleportTo("Luck Machine")
    end
})

local SpinWheelButton = Tab2:Button({
    Title = "Spin Wheel",
    Desc = "Try your luck on the wheel",
    Icon = "disc",
    Callback = function()
        teleportTo("Spin Wheel")
    end
})

local WeatherMachineButton = Tab2:Button({
    Title = "Weather Machine",
    Desc = "Control the weather",
    Icon = "cloud-rain",
    Callback = function()
        teleportTo("Weather Machine")
    end
})

-- Section: NPCs
local Section3 = Tab2:Section({
    Title = "NPCs",
    Icon = "users",
})

local AlexButton = Tab2:Button({
    Title = "Alex",
    Desc = "Talk to Alex",
    Icon = "user",
    Callback = function()
        teleportTo("Alex")
    end
})

local AlienButton = Tab2:Button({
    Title = "Alien Merchant",
    Desc = "Special shop keeper",
    Icon = "shopping-bag",
    Callback = function()
        teleportTo("Alien Merchant")
    end
})

local AuraKidButton = Tab2:Button({
    Title = "Aura Kid",
    Desc = "Aura upgrades",
    Icon = "sparkles",
    Callback = function()
        teleportTo("Aura Kid")
    end
})

local BillyButton = Tab2:Button({
    Title = "Billy Bob",
    Desc = "Talk to Billy Bob",
    Icon = "user",
    Callback = function()
        teleportTo("Billy Bob")
    end
})

local BoatButton = Tab2:Button({
    Title = "Boat Expert",
    Desc = "Boat services",
    Icon = "ship",
    Callback = function()
        teleportTo("Boat Expert")
    end
})

local JimButton = Tab2:Button({
    Title = "Jim",
    Desc = "Talk to Jim",
    Icon = "user",
    Callback = function()
        teleportTo("Jim")
    end
})

local JoeButton = Tab2:Button({
    Title = "Joe",
    Desc = "Talk to Joe",
    Icon = "user",
    Callback = function()
        teleportTo("Joe")
    end
})

local RonButton = Tab2:Button({
    Title = "Ron",
    Desc = "Talk to Ron",
    Icon = "user",
    Callback = function()
        teleportTo("Ron")
    end
})

local ScientistButton = Tab2:Button({
    Title = "Scientist",
    Desc = "Research and experiments",
    Icon = "flask",
    Callback = function()
        teleportTo("Scientist")
    end
})

local ScottButton = Tab2:Button({
    Title = "Scott",
    Desc = "Talk to Scott",
    Icon = "user",
    Callback = function()
        teleportTo("Scott")
    end
})

local SethButton = Tab2:Button({
    Title = "Seth",
    Desc = "Talk to Seth",
    Icon = "user",
    Callback = function()
        teleportTo("Seth")
    end
})

local SillyButton = Tab2:Button({
    Title = "Silly Fisherman",
    Desc = "Fishing tips and tricks",
    Icon = "fish",
    Callback = function()
        teleportTo("Silly Fisherman")
    end
})

local GuardianButton = Tab2:Button({
    Title = "Temple Guardian",
    Desc = "Protects the temple",
    Icon = "shield",
    Callback = function()
        teleportTo("Temple Guardian")
    end
})

local TourButton = Tab2:Button({
    Title = "Tour Guide",
    Desc = "Get a tour",
    Icon = "map",
    Callback = function()
        teleportTo("Tour Guide")
    end
})

print("[Teleport] ‚úÖ All locations loaded! (Main: 13 | Machines: 3 | NPCs: 14)")


-- Misc Tab
-- ==================== TAB 4: MISC ====================
local MiscTab = Window:Tab({
    Title = "Misc",
    Icon = "folder",
    Locked = false,
})

local ToggleAntiAFK = MiscTab:Toggle({
    Title = "Anti AFK",
    Desc = "Prevents automatic idle kick",
    Icon = "shield-check",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        if state then
            local player = game.Players.LocalPlayer

            -- Disconnect existing idle connections if any
            if getgenv().AntiAFKConnection then
                getgenv().AntiAFKConnection:Disconnect()
            end

            -- Connect to Idled event
            getgenv().AntiAFKConnection = player.Idled:Connect(function()
                -- simulate click or jump to prevent kick
                game:GetService("VirtualUser"):CaptureController()
                game:GetService("VirtualUser"):ClickButton2(Vector2.new())
                print("‚è± Anti-AFK triggered!")
            end)

            print("‚úÖ Anti-AFK enabled")
        else
            -- Disconnect Anti-AFK
            if getgenv().AntiAFKConnection then
                getgenv().AntiAFKConnection:Disconnect()
                getgenv().AntiAFKConnection = nil
            end
            print("‚õî Anti-AFK disabled")
        end
    end
})

local Buttonpowersave = MiscTab:Button({
    Title = "Power Save Mode",
    Desc = "Open Power Save Script",
    Locked = false,
    Callback = function()
        print("Opening Power Save Script...")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/FryzerHub/SubScripts/refs/heads/main/screen%20saver"))()
    end
})

-- ==================== TAB 6: SETTINGS ====================
local Tab6 = Window:Tab({
    Title = "Settings",
    Icon = "settings",
    Locked = false,
})

local SettingsSection1 = Tab6:Section({
    Title = "Window Settings",
    Icon = "layout",
})

Tab6:Space()

local TransparencyToggle = Tab6:Toggle({
    Title = "Window Transparency",
    Desc = "Toggle window transparency on/off",
    Icon = "eye",
    Type = "Checkbox",
    Default = false,
    Callback = function(state)
        Window:ToggleTransparency(state)
        print("Transparency: " .. tostring(state))
    end
})

Tab6:Divider()

local SettingsSection2 = Tab6:Section({
    Title = "Keybind Settings",
    Icon = "keyboard",
})

local KeybindInput = Tab6:Input({
    Title = "Toggle UI Keybind",
    Desc = "Type ONE letter or key (e.g., Q or RightControl)",
    Value = "RightControl",
    InputIcon = "keyboard",
    Type = "Input",
    Placeholder = "Enter key...",
    Callback = function(input)
        input = input:gsub("^%s*(.-)%s*$", "%1")
        
        local keyCode
        
        if #input == 1 then
            local upperInput = input:upper()
            keyCode = Enum.KeyCode[upperInput]
        else
            local success, result = pcall(function()
                return Enum.KeyCode[input]
            end)
            if success then
                keyCode = result
            end
        end
        
        if keyCode then
            Window:SetToggleKey(keyCode)
            print("Keybind set to: " .. input)
            WindUI:Notify({
                Title = "Keybind Updated",
                Content = "Press '" .. input .. "' to toggle UI",
                Duration = 3,
                Icon = "check",
            })
        else
            print("Invalid key: " .. input)
            WindUI:Notify({
                Title = "Invalid Key",
                Content = "Enter a single letter (Q) or key name (RightControl)",
                Duration = 4,
                Icon = "x",
            })
        end
    end
})

Window:SetToggleKey(Enum.KeyCode.RightControl)

Tab6:Space()
